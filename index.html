<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Study Owl Math App</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #f3f4f6;
      padding: 20px;
      color: #111827;
    }

    h1, h2, h3 {
      font-weight: 700;
    }

    .app-container {
      max-width: 1100px;
      margin: 0 auto;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      gap: 10px;
    }

    header h1 {
      font-size: 1.8rem;
    }

    .tagline {
      font-size: 0.95rem;
      color: #6b7280;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .card {
      background: #ffffff;
      border-radius: 16px;
      padding: 18px 20px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
    }

    .card h2 {
      font-size: 1.1rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #e5f3ff;
      color: #0369a1;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-top: 6px;
    }

    .label {
      font-size: 0.85rem;
      color: #4b5563;
      margin-bottom: 6px;
      display: block;
    }

    input[type="number"],
    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 8px 10px;
      margin-bottom: 10px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      font-size: 0.9rem;
      outline: none;
      background: #f9fafb;
    }

    input:focus,
    textarea:focus,
    select:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.3);
      background: #ffffff;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      margin-right: 6px;
      margin-top: 4px;
    }

    .btn-primary {
      background: #2563eb;
      color: #ffffff;
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-small {
      padding: 6px 10px;
      font-size: 0.8rem;
    }

    .timer-display {
      font-size: 1.4rem;
      font-weight: 700;
      margin: 10px 0;
      letter-spacing: 1px;
    }

    .status-text {
      font-size: 0.85rem;
      color: #6b7280;
      margin-top: 4px;
      min-height: 18px;
    }

    .points-display {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .owl-wrapper {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 10px;
    }

    .owl-art {
      font-size: 3rem;
    }

    .owl-level {
      font-size: 0.9rem;
      color: #4b5563;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-top: 5px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #38bdf8, #6366f1, #a855f7);
      transition: width 0.3s ease;
    }

    .tips-list {
      list-style: none;
      font-size: 0.9rem;
      color: #374151;
    }

    .tips-list li {
      margin-bottom: 8px;
      padding-left: 18px;
      position: relative;
    }

    .tips-list li::before {
      content: "‚ú¶";
      position: absolute;
      left: 0;
      top: 0;
      color: #6366f1;
      font-size: 0.75rem;
      margin-top: 2px;
    }

    .quiz-question-preview {
      font-size: 0.85rem;
      color: #4b5563;
      margin-top: 6px;
      max-height: 80px;
      overflow-y: auto;
      border-top: 1px dashed #e5e7eb;
      padding-top: 6px;
    }

    .quiz-question-preview p {
      margin-bottom: 4px;
    }

    .quiz-area {
      margin-top: 10px;
      border-top: 1px solid #e5e7eb;
      padding-top: 8px;
    }

    .quiz-question-text {
      font-weight: 600;
      margin-bottom: 6px;
    }

    .quiz-options {
      list-style: none;
      font-size: 0.9rem;
      margin-bottom: 6px;
    }

    .quiz-options li {
      margin-bottom: 4px;
    }

    .quiz-result {
      font-size: 0.9rem;
      margin-top: 4px;
      min-height: 18px;
    }

    .pill-level {
      font-size: 0.75rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4f46e5;
      display: inline-block;
      margin-top: 2px;
    }

    footer {
      margin-top: 25px;
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <div>
        <h1>Study Owl ¬∑ Math Lab</h1>
        <p class="tagline">Earn points by studying, level up your owl, and build your own math quizzes.</p>
      </div>
      <div class="pill">
        <span>ü¶â</span>
        <span>Focus ‚Ä¢ Practice ‚Ä¢ Level Up</span>
      </div>
    </header>

    <div class="grid">
      <!-- STUDY TIMER + POINTS -->
      <section class="card">
        <h2>‚è± Study Timer & Points</h2>
        <label class="label" for="minutesInput">How many minutes do you want to study?</label>
        <input type="number" id="minutesInput" min="1" max="180" value="25" />

        <button class="btn-primary" id="startTimerBtn">Start Session</button>
        <button class="btn-secondary btn-small" id="resetTimerBtn">Reset</button>

        <div class="timer-display" id="timerDisplay">25:00</div>
        <div class="status-text" id="timerStatus">Set your time and press ‚ÄúStart Session‚Äù.</div>

        <hr style="border:none;border-top:1px solid #e5e7eb;margin:12px 0;" />

        <div class="points-display">
          Points: <span id="pointsValue">0</span>
        </div>
        <div class="owl-wrapper">
          <div class="owl-art" id="owlEmoji">ü¶â</div>
          <div>
            <div class="owl-level" id="owlLevelText">Level 1 ¬∑ Sleepy Student Owl</div>
            <span class="pill-level" id="nextLevelText">Next level at 50 pts</span>
            <div class="progress-bar">
              <div class="progress-fill" id="pointsProgress"></div>
            </div>
          </div>
        </div>
        <p class="status-text">
          You earn <strong>10 points</strong> for every <strong>10 minutes</strong> studied.
        </p>
      </section>

      <!-- STUDY HELP METHODS -->
      <section class="card">
        <h2>üìê Math Study Help</h2>
        <p class="label">Use these methods while your timer runs:</p>
        <ul class="tips-list">
          <li><strong>Example ‚Üí Practice ‚Üí Check:</strong> Copy one example from your notes, then solve a similar problem without looking.</li>
          <li><strong>Explain it out loud:</strong> Pretend you are teaching the owl. If you can explain it simply, you understand it.</li>
          <li><strong>Change the numbers:</strong> Take a homework problem and swap the numbers to create 3 new practice problems.</li>
          <li><strong>Error hunt:</strong> Solve a problem, then go back and look for possible mistakes step by step.</li>
          <li><strong>Mix topics:</strong> In one session, do 2‚Äì3 problems from different units (fractions, equations, geometry) to keep your brain active.</li>
          <li><strong>Quick formula sheet:</strong> At the start of each study block, rewrite key formulas from memory, then check them.</li>
        </ul>
      </section>

      <!-- QUIZ MAKER -->
      <section class="card">
        <h2>üìù Quiz Maker</h2>
        <p class="label">Create your own math questions, then test yourself.</p>

        <label class="label" for="quizQuestionInput">Question</label>
        <input type="text" id="quizQuestionInput" placeholder="e.g. What is 3 √ó 7?" />

        <label class="label">Options</label>
        <input type="text" id="optA" placeholder="Option A" />
        <input type="text" id="optB" placeholder="Option B" />
        <input type="text" id="optC" placeholder="Option C" />
        <input type="text" id="optD" placeholder="Option D" />

        <label class="label" for="correctOptionSelect">Correct answer</label>
        <select id="correctOptionSelect">
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="D">D</option>
        </select>

        <button class="btn-primary" id="addQuestionBtn">Add Question</button>
        <button class="btn-secondary btn-small" id="clearQuestionsBtn">Clear All</button>

        <div class="quiz-question-preview" id="quizPreview">
          No questions yet. Add one above to start your quiz bank.
        </div>

        <div class="quiz-area" id="quizArea" style="display:none;">
          <div class="quiz-question-text" id="currentQuizQuestion"></div>
          <ul class="quiz-options" id="quizOptionsList"></ul>
          <button class="btn-primary btn-small" id="nextQuestionBtn">Next Question</button>
          <p class="quiz-result" id="quizResult"></p>
        </div>

        <button class="btn-primary btn-small" id="startQuizBtn" style="margin-top:8px;">Start Quiz</button>
      </section>
    </div>

    <footer>
      Study Owl Math App ¬∑ Practice a little every day ü¶â
    </footer>
  </div>

  <script>
    // ----------------------------
    // TIMER + POINTS + OWL LOGIC
    // ----------------------------
    const minutesInput = document.getElementById("minutesInput");
    const timerDisplay = document.getElementById("timerDisplay");
    const timerStatus = document.getElementById("timerStatus");
    const startTimerBtn = document.getElementById("startTimerBtn");
    const resetTimerBtn = document.getElementById("resetTimerBtn");
    const pointsValue = document.getElementById("pointsValue");
    const owlEmoji = document.getElementById("owlEmoji");
    const owlLevelText = document.getElementById("owlLevelText");
    const nextLevelText = document.getElementById("nextLevelText");
    const pointsProgress = document.getElementById("pointsProgress");

    let timerInterval = null;
    let remainingSeconds = 0;
    let totalPoints = 0;
    let isRunning = false;

    function updateTimerDisplay(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      timerDisplay.textContent =
        String(m).padStart(2, "0") + ":" + String(s).padStart(2, "0");
    }

    function startTimer() {
      if (isRunning) return;

      const minutes = parseInt(minutesInput.value, 10) || 0;
      if (minutes <= 0) {
        timerStatus.textContent = "Please choose at least 1 minute.";
        return;
      }

      remainingSeconds = minutes * 60;
      updateTimerDisplay(remainingSeconds);
      timerStatus.textContent = "Studying... stay focused!";
      isRunning = true;
      startTimerBtn.textContent = "Running...";
      startTimerBtn.disabled = true;

      timerInterval = setInterval(() => {
        remainingSeconds--;
        updateTimerDisplay(remainingSeconds);

        if (remainingSeconds <= 0) {
          clearInterval(timerInterval);
          isRunning = false;
          startTimerBtn.textContent = "Start Session";
          startTimerBtn.disabled = false;
          timerStatus.textContent = "Nice work! Your session is complete. Points added.";

          awardPoints(minutes);
        }
      }, 1000);
    }

    function resetTimer() {
      clearInterval(timerInterval);
      isRunning = false;
      startTimerBtn.textContent = "Start Session";
      startTimerBtn.disabled = false;
      const minutes = parseInt(minutesInput.value, 10) || 25;
      remainingSeconds = minutes * 60;
      updateTimerDisplay(remainingSeconds);
      timerStatus.textContent = "Timer reset. Ready when you are.";
    }

    function awardPoints(minutesStudied) {
      // 10 points for each 10 minutes (rounded)
      const blocksOfTen = Math.round(minutesStudied / 10);
      const pointsEarned = blocksOfTen * 10;
      totalPoints += pointsEarned;
      if (pointsEarned > 0) {
        timerStatus.textContent += ` (+${pointsEarned} pts)`;
      }
      updatePointsUI();
    }

    function updatePointsUI() {
      pointsValue.textContent = totalPoints;

      let level = 1;
      let levelName = "Sleepy Student Owl";
      let emoji = "ü¶â";
      let nextAt = 50;
      let currentLevelFloor = 0;
      let nextLevelCap = 100;

      if (totalPoints >= 200) {
        level = 4;
        levelName = "Legendary Math Sage Owl";
        emoji = "üååü¶â";
        currentLevelFloor = 200;
        nextLevelCap = 300;
        nextAt = "Maxed out (for now!)";
      } else if (totalPoints >= 120) {
        level = 3;
        levelName = "Advanced Algebra Owl";
        emoji = "üìöü¶â";
        currentLevelFloor = 120;
        nextLevelCap = 200;
        nextAt = `${200 - totalPoints} pts to Level 4`;
      } else if (totalPoints >= 50) {
        level = 2;
        levelName = "Focused Geometry Owl";
        emoji = "üìêü¶â";
        currentLevelFloor = 50;
        nextLevelCap = 120;
        nextAt = `${120 - totalPoints} pts to Level 3`;
      } else {
        level = 1;
        levelName = "Sleepy Student Owl";
        emoji = "ü¶â";
        currentLevelFloor = 0;
        nextLevelCap = 50;
        nextAt = `${50 - totalPoints} pts to Level 2`;
      }

      owlEmoji.textContent = emoji;
      owlLevelText.textContent = `Level ${level} ¬∑ ${levelName}`;
      nextLevelText.textContent = typeof nextAt === "string" ? nextAt : `Next level at ${nextAt}`;

      const range = nextLevelCap - currentLevelFloor;
      const progress = range > 0 ? ((totalPoints - currentLevelFloor) / range) * 100 : 100;
      pointsProgress.style.width = Math.max(0, Math.min(100, progress)) + "%";
    }

    startTimerBtn.addEventListener("click", startTimer);
    resetTimerBtn.addEventListener("click", resetTimer);

    // Initialize timer display
    resetTimer();


    // ----------------------------
    // QUIZ MAKER LOGIC
    // ----------------------------
    const quizQuestionInput = document.getElementById("quizQuestionInput");
    const optA = document.getElementById("optA");
    const optB = document.getElementById("optB");
    const optC = document.getElementById("optC");
    const optD = document.getElementById("optD");
    const correctOptionSelect = document.getElementById("correctOptionSelect");
    const addQuestionBtn = document.getElementById("addQuestionBtn");
    const clearQuestionsBtn = document.getElementById("clearQuestionsBtn");
    const quizPreview = document.getElementById("quizPreview");
    const quizArea = document.getElementById("quizArea");
    const currentQuizQuestion = document.getElementById("currentQuizQuestion");
    const quizOptionsList = document.getElementById("quizOptionsList");
    const quizResult = document.getElementById("quizResult");
    const startQuizBtn = document.getElementById("startQuizBtn");
    const nextQuestionBtn = document.getElementById("nextQuestionBtn");

    let quizQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let quizStarted = false;

    function refreshPreview() {
      if (quizQuestions.length === 0) {
        quizPreview.textContent = "No questions yet. Add one above to start your quiz bank.";
        quizArea.style.display = "none";
        return;
      }

      quizPreview.innerHTML = "";
      quizQuestions.forEach((q, index) => {
        const p = document.createElement("p");
        p.textContent = `${index + 1}. ${q.question} (Correct: ${q.correct})`;
        quizPreview.appendChild(p);
      });
    }

    function addQuestion() {
      const question = quizQuestionInput.value.trim();
      const a = optA.value.trim();
      const b = optB.value.trim();
      const c = optC.value.trim();
      const d = optD.value.trim();
      const correct = correctOptionSelect.value;

      if (!question || !a || !b || !c || !d) {
        alert("Please fill in the question and all four options.");
        return;
      }

      quizQuestions.push({
        question,
        options: { A: a, B: b, C: c, D: d },
        correct
      });

      quizQuestionInput.value = "";
      optA.value = "";
      optB.value = "";
      optC.value = "";
      optD.value = "";
      correctOptionSelect.value = "A";

      refreshPreview();
    }

    function clearQuestions() {
      if (!confirm("Clear all quiz questions?")) return;
      quizQuestions = [];
      refreshPreview();
      quizArea.style.display = "none";
      quizResult.textContent = "";
      quizStarted = false;
    }

    function startQuiz() {
      if (quizQuestions.length === 0) {
        alert("Add at least one question before starting the quiz.");
        return;
      }
      quizArea.style.display = "block";
      currentQuestionIndex = 0;
      score = 0;
      quizStarted = true;
      quizResult.textContent = "";
      showQuestion();
    }

    function showQuestion() {
      const q = quizQuestions[currentQuestionIndex];
      currentQuizQuestion.textContent = `${currentQuestionIndex + 1}. ${q.question}`;
      quizOptionsList.innerHTML = "";

      ["A", "B", "C", "D"].forEach(letter => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.textContent = `${letter}: ${q.options[letter]}`;
        btn.className = "btn-secondary btn-small";
        btn.addEventListener("click", () => selectAnswer(letter));
        li.appendChild(btn);
        quizOptionsList.appendChild(li);
      });

      quizResult.textContent = "";
    }

    function selectAnswer(letter) {
      const q = quizQuestions[currentQuestionIndex];
      if (letter === q.correct) {
        quizResult.textContent = "‚úÖ Correct!";
        score++;
      } else {
        quizResult.textContent = `‚ùå Not quite. Correct answer: ${q.correct}`;
      }
    }

    function nextQuestion() {
      if (!quizStarted) return;
      currentQuestionIndex++;
      if (currentQuestionIndex >= quizQuestions.length) {
        quizStarted = false;
        quizOptionsList.innerHTML = "";
        currentQuizQuestion.textContent = "Quiz finished!";
        quizResult.textContent = `You scored ${score} out of ${quizQuestions.length}.`;
      } else {
        showQuestion();
      }
    }

    addQuestionBtn.addEventListener("click", addQuestion);
    clearQuestionsBtn.addEventListener("click", clearQuestions);
    startQuizBtn.addEventListener("click", startQuiz);
    nextQuestionBtn.addEventListener("click", nextQuestion);

    refreshPreview();
  </script>
</body>
</html>
